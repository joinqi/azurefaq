# 存储

#### 使用SQL Database的限制
>SQL Database现在已知有如下限制、不支持分布式查询、不支持.NET CLR类型、不支持数据备份和恢复、需要每个表都有聚集索引。SQL Database提供两种不同类型的服务：web和business。web类型数据库最大尺寸为5GB，Business类型数据库最大尺寸为150GB。如果数据库超出了这个限制，需要使用数据分片功能将数据分不到多个SQL Database数据库上。

#### 使用Blob的限制
>Blob分为两种，块Blob和页Blob    
><ul>
><li>块Blob</li>
>块Blob最大可达200G。在上载块Blob时，小于64MB的文件可以被一次性写入。更大的文件是分Block上载的，每个Block最大可达4MB。一个Blob中最多可以包含50000个这样的Block。在所有Block上载后，需要上载一个Block列表以供存储服务把这些Block装配程一个完整的Blob。在上载的过程中可以并发上载多个Block，且不需要按顺序上载。所有上载的块都处于一种“未提交”的状态，直到进行提交操作。Block上载的时候，可以利用CloudBlockBlob类上的PubBlock方法来提交Block，然后用PutBlockList方法提交Block列表。
><li>页Blob</li>
>页Blob最大可以达到1TB。一个页Blob有多个512B的页构成，页Blob适用于随机读写操作。在创建一个页Blob时需要指定Blob能占用的最大空间。在读写时要按着512B的边界来进行。与块Blob不同，使用页Blob的所有的更新都是立即提交的，而不需要一个单独的提交操作。
></ul>

#### 使用表的限制
>Azure中表存储服务中表（Table）是一个实体的集合。与传统数据库不同，存储服务表没有固定的结构，也就是说可以在同一张表内存入含有不同字段的记录。实体是一个属性的集合，类似于关系数据库中的一行记录。一个实体最大可达1MB。属性是一个键-值对。每个实体可以最多有252个属性。每个实体有个3个系统保留属性，分别是分区键、行健和时间戳。位于同一分区的实体可以作为一个原子操作来插入或查询。每个分区内的行健必须是唯一的。

[返回首页](</index.md>)